<script type="text/javascript" src="data.js"></script>
<script type="text/javascript">

function ReviewsReport(restaurant, reviews){
	this.restaurant = restaurant;
	this.reviews = reviews;

	this.getAverageRating = function(){
		var sum = 0;
		var average = 0; 
		for(var i = 0; i < reviews.length; i++){			
			sum += reviews[i].stars; 						
		}
		average = sum / reviews.length; 
		return average;
	};
	this.getAverageCost = function(){
		var sum = 0;
		var average = 0; 
		for(var i = 0; i < reviews.length; i++){			
			sum += reviews[i].cost; 						
		}
		average = sum / reviews.length; 
		return average;
	};
	this.convertCostToDollarSign = function(cost){
		if(cost < 1.5){
			return '$';
		}
		else if(cost >= 1.5 && cost < 2.5){
			return '$$';
		}
		else if(cost >= 2.5 && cost < 3.5){
			return '$$$';
		}
		else{
			return '$$$$';
		}
	};
	this.summarize = function(){
		 var averageCost = this.getAverageCost();
			var summary= {
				name: restaurant,
				averageStarRating: this.getAverageRating(),
				totalReviews: reviews.length,
				averageCost: {
					numeric: averageCost,
					symbol: this.convertCostToDollarSign(averageCost)
				}
			}; 
			return summary;

	};

}

var reportA = new ReviewsReport('Restaurant A 2014', reviews.restaurantA);


 console.log(reportA.summarize());


var reportB = new ReviewsReport('Restaurant B 2014', reviews.restaurantB);


 console.log(reportB.summarize());



</script>	
